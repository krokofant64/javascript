<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="620" height="620" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.</canvas>
<script src='LineChart.js'></script>
<script>
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");

var chart = new LineChart();

var tmax = 10 * 60;
var dt = 1;
var s = 0;
var mRocketEmpty = 1000;
var burningTime = 2 * 60;
var ve = 4000;
var m0 = 5000;
var dm = (m0 - mRocketEmpty) / burningTime;
var v = 0;
var t = 0;
//chart.addData("red", 0, 0);
var d = new Date();
var t0 = d.getTime();
while (m0 > mRocketEmpty)
{
   var dv = ve * Math.log (m0/(m0 - (dm/dt)));
   m0 -= dm/dt;
   v += dv - dt * 9.81;
   s += v * dt;
   t += dt;
   chart.addData("red", s, t0 + t * 1000);
}
while (t < tmax)
{
   v -= dt * 9.81;
   s += v * dt;
   t += dt;
   chart.addData("red", s, t0 + t * 1000);
}

var burningTime = 0.2 * 60;
m0 = 5000;
var dm = (m0 - mRocketEmpty) / burningTime;
s = 0;
v = 0;
t = 0;
while (m0 > mRocketEmpty)
{
   var dv = ve * Math.log (m0/(m0 - (dm/dt)));
   m0 -= dm/dt;
   v += dv - dt * 9.81;
   s += v * dt;
   t += dt;
   chart.addData("white", s, t0 + t * 1000);
}
while (t < tmax)
{
   v -= dt * 9.81;
   s += v * dt;
   t += dt;
   chart.addData("white", s, t0 + t * 1000);
}
chart.backgroundColor = "#7ecefd";
chart.foregroundColor = "#29475f";
chart.draw(ctx, 10, 10);

</script>

</body>
</html>
