<!DOCTYPE html>
<html>
<head>
   <title>Random Ticker</title>
</head>   
<body>

<canvas id="myCanvas" width="600" height="400" style="border:1px solid #d3d3d3;box-shadow: 10px 10px 3px #888888;">
   Your browser does not support the HTML5 canvas tag.
</canvas>
<script src='LineChart.js'></script>
<form>
<input type="checkbox" id="showDate">Show date<br>
<input type="checkbox" id="fillArea">Fill area below curve<br>
<input type="checkbox" id="drawDataPoints">Draw data points<br>
</form> 

<script>

   function setPreferences(theChart)
   {
      theChart.showDate = document.getElementById("showDate").checked;
      theChart.fillArea = document.getElementById("fillArea").checked;
      theChart.drawDataPoints = document.getElementById("drawDataPoints").checked;
   }   

   function updateChart()
   {
      redValue += Math.random() - 0.5;
      chart.addData("red", redValue); // add data to chart
      
      blueValue += Math.random() - 0.5;
      chart.addData("blue", blueValue); // add data to chart

      greenValue += Math.random() - 0.5;
      chart.addData("green", greenValue); // add data to chart
      
      // Draw chart
      setPreferences(chart);
      chart.draw(document.getElementById("myCanvas"));

      setTimeout(updateChart, 1000);
   }

   var currentTime = new Date();

   // Create chart
   var chart = new LineChart();
   chart.backgroundColor = "#7ecefd";
   chart.foregroundColor = "#29475f";
   chart.history = 60000; // 60 seconds history

   chart.addLabel("red", "Uplink speed [Mbit/s]");
   chart.addLabel("blue", "Downlink speed [Mbit/s]");
   chart.addLabel("green", "Num. connections");

   // Add data to the chart
   var redValue = (Math.random() * 10) + 1;
   chart.addData("red", redValue); // add data to chart

   var blueValue = (Math.random() * 10) + 1;
   chart.addData("blue", blueValue); // add data to chart

   var greenValue = (Math.random() * 10) + 1;
   chart.addData("green", greenValue); // add data to chart
   
   // Draw chart
   setPreferences(chart);
   chart.draw(document.getElementById("myCanvas"));

   setTimeout(updateChart, 1000);
   </script>

</body>
</html>
